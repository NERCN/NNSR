# 常见问题

## 安装相关问题

### Q: 安装程序无法启动怎么办？
**A:** 请尝试以下解决方案：
- 确认操作系统满足最低要求（Windows 10/11 64位）
- 右键安装程序，选择"以管理员身份运行"
- 检查系统是否有足够的磁盘空间（至少10GB）
- matlab的运行速度波动较大，可能需要多等待一段时间

### Q: MATLAB开源版本无法启动？
**A:** 可能的原因和解决方案：
- **MATLAB版本过低**：需要MATLAB 2023b或更高版本（会自动进行提醒）
- **路径配置错误**：重新使用`addpath`命令添加NNSR路径
- **依赖包缺失**：确保安装了Signal Processing Toolbox等必要工具包
- **权限问题**：确保MATLAB有读写NNSR文件夹的权限

### Q: 无法识别数据文件格式？
**A:** 检查以下方面：
- **文件格式**：确认文件为支持的格式（PINS支持的原生数据格式：.dat、.data；符合要求的.mat；使用工具转为.mat的percept PC的.json格式等）
- **文件完整性**：检查文件是否损坏或传输不完整
- **设备兼容性**：确认数据来自兼容的DBS设备型号
- **文件大小**：超大文件可能需要分段处理

### Q: 伪迹无法有效去除？
**A:** 建议：
- **手动分析**：由于自动识别工具依赖伪迹数据标注，目前数据库与算法正在不断迭代优化，建议使用手动分析模块进行精细化处理
- **分段处理**：过长（若干小时连续采集的数据）会处理较慢，建议分段处理
- **多种方法结合**：尝试组合使用不同的伪迹去除方法

### Q: 手动处理后信号质量下降？
**A:** 可能原因和解决方案：
- **滤波参数不合理**：适当放宽滤波器参数，或者采用/调整默认滤波器
- **参数不匹配**：根据数据特性调整处理参数
- **原始信号质量**：检查原始信号的信噪比，是否环境噪声或采集方式有误

## 设备连接问题

### Q: 在线分析版本无法建立与DBS设备的连接？
** 注意！该功能在使用前建议与作者进行联系并获取配套的相关代码 **
**A:** 排查步骤：
1. **硬件检查**：
   - 确认蓝牙适配器正确安装
   - 检查内部串口连接是否正常/HTTP端口
   - 验证DBS设备的版本

2. **软件配置**：
   - 确认选择了正确的串口号
   - 检查蓝牙驱动程序状态
   - 重启NNSR和蓝牙服务

3. **设备状态**：
   - 确认DBS设备电量充足
   - 检查设备固件版本兼容性

### Q: 连接中断频繁发生？
**A:** 稳定性优化：
- **信号强度**：减少设备间距离，避免障碍物
- **电磁干扰**：远离其他蓝牙设备和WiFi路由器
- **系统资源**：关闭不必要的后台程序
- **连接参数**：调整连接超时和重试参数

## 分析功能问题

### Q: 功率谱分析结果异常？
**A:** 检查要点：
- **参数设置**：验证FFT点数、窗长等参数合理性
- **数据预处理**：确保完成必要的预处理步骤
- **频率范围**：检查分析频率范围是否合适
- **数据长度**：确保数据长度足够进行可靠的频谱估计

### Q: 时频分析运行缓慢？
**A:** 性能优化：
- **参数调整**：适当减少时频分辨率
- **数据分段**：对长时程数据进行分段分析
- **内存管理**：确保系统有足够的可用内存

## 性能相关问题

### Q: 软件运行缓慢？
**A:** 性能优化建议：
- **硬件升级**：增加内存或使用SSD硬盘
- **参数调整**：减少分析的数据量或降低分辨率
- **后台程序**：关闭不必要的后台应用程序
- **系统清理**：清理临时文件和系统垃圾

### Q: 内存不足错误？
**A:** 内存管理：
- **分段处理**：将大文件分段处理
- **参数优化**：减少同时处理的数据量
- **系统内存**：关闭其他占用内存的程序
- **虚拟内存**：适当增加系统虚拟内存

### Q: 程序崩溃或无响应？
**A:** 稳定性改善：
- **数据检查**：确认输入数据的完整性
- **参数合理性**：检查分析参数是否合理
- **系统更新**：更新操作系统和驱动程序
- **重新安装**：必要时重新安装NNSR或反馈错误

## 结果输出问题

### Q: 无法保存分析结果？
**A:** 权限和路径检查：
- **文件权限**：确保有写入目标文件夹的权限
- **路径长度**：避免使用过长的文件路径
- **磁盘空间**：检查目标磁盘是否有足够空间
- **特殊字符**：避免在文件名中使用特殊字符

### Q: MATLAB工作区导出失败？
**A:** 导出问题解决：
- **MATLAB版本**：确认MATLAB版本以及是否为独立部署版本（独立部署版本无法将数据发送至工作区）
- **变量命名**：检查变量命名是否符合MATLAB规范
- **内存限制**：确保MATLAB工作区有足够内存
- **路径设置**：验证MATLAB路径设置正确

## 技术支持

### Q: 如何获得技术支持？
**A:** 支持渠道：
- **邮件支持**：发送详细问题描述至guanlx18@tsinghua.org.cn
- **GitHub Issues**：在GitHub项目页面提交问题报告
- **用户手册**：查阅完整的用户手册和教程

### Q: 是否提供培训服务？
**A:** 培训资源：
- **在线教程**：提供详细的视频教程（25年12月与完整版本共同上线）
- **用户手册**：完整的操作指南和案例分析
- **定制培训**：可根据需求提供定制化培训服务

如果以上解答未能解决您的问题，请参考[技术支持](support.md)页面获取更多帮助信息。

