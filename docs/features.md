# 功能特性

NNSR采用模块化架构设计，主要包含离线分析系统和在线分析系统两大功能模块，为DBS电生理信号处理提供全方位解决方案。

## 核心功能

### 智能伪迹识别与处理

#### 深度学习伪迹识别
- **双分支神经网络**：自动识别多种类型伪迹
- **高识别精度**：基础测试集准确率93.9%，跨被试、跨标注者测试集86.0%
- **伪迹类型**：
  - 电刺激伪迹
  - 心电伪迹（ECG）
  - 体动伪迹
  - 基线漂移

#### 自适应滤波算法
- **IIR/FIR滤波器**：灵活选择滤波器类型和参数
- **模板匹配法**：针对周期性伪迹的专用处理
- **EAS方法**：心电伪迹的高效去除

### 多维特征提取

#### 时域特征
- 均值、方差、偏度、峰度等特征

#### 频域特征
- **功率谱密度（PSD）**：Welch方法、FFT方法
- **频段能量**：δ、θ、α、β、γ频段功率计算
- **谱峰检测**：主频识别与峰值分析

#### 时频域特征
- **短时傅里叶变换（STFT）**：时频能量分布
- **连续小波变换（CWT）**：多尺度时频分析

#### 相位特征
- **相位锁定值（PLV）**：通道间同步性分析
- **相位滞后指数（PLI）**：方向性连接分析

### 实时处理能力

#### 低延迟传输
- **安全协议**：加密传输确保数据安全
- **毫秒级安全协议**：安全协议平均延迟增量仅1.32±0.37ms
- **流式处理**：支持连续数据流实时分析

#### 在线特征计算
- **滑动窗口**：可配置窗口大小和重叠度
- **实时更新**：特征值实时计算和显示
- **自适应阈值**：动态调整检测参数

### 数据格式支持

#### 输入格式
- **原生格式**：清华可感知脑起搏器.dat/.data格式
- **通用格式**：TXT格式, MAT格式

#### 输出格式
- **分析结果**：MAT、CSV、PDF、HTML格式
- **图像导出**：PNG、JPG、SVG、Fig原始格式等
- **数据导出**：原始数据和处理后数据

## 用户界面特性

### 可视化功能

#### 多通道显示
- **同步显示**：时域、频域、时频域结果同步展示
- **通道选择**：灵活选择分析通道
- **参数对比**：处理前后结果对比显示

#### 交互式操作
- **缩放平移**：支持图像的缩放和平移操作
- **参数调节**：实时调整分析参数并查看结果
- **区域选择**：手动选择感兴趣的时间段或频率段

#### 数据标注
- **事件标记**：支持实时分析的手动和自动事件标记
- **伪迹标注**：可视化标注识别的伪迹片段
- **质量评估**：信号质量的可视化评分

### 批量处理

#### 自动化流程
- **批量导入**：一次性导入多个数据文件
- **标准化处理**：统一的处理流程和参数
- **结果汇总**：自动生成批量分析报告与特征文件

## 扩展功能

### 脚本接口
- **MATLAB接口**：直接运行外接闭环处理算法 
- **开源拓展**：使用开源代码进行编辑与定制化工作流
- **算法插件**：支持第三方算法集成
- **格式插件**：扩展数据格式支持

### 质量控制
- **数据完整性检查**：自动检测模态数据缺失问题
- **处理质量评估**：量化评估识别效果
- **可重复性**：确保分析结果的可重复性

通过这些丰富的功能特性，NNSR为DBS电生理信号研究提供了完整、高效、可靠的分析平台。

